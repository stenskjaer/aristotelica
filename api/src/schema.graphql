type Text {
  text_id: ID! 
  # This is a clear ontology conflict between these two things!
  authors: [Person!]! @cypher(statement: "MATCH (this)<--(:Attribution)-->(p:Person) RETURN DISTINCT p")
  authorName: String! @cypher(statement: "MATCH (this)<--(:Attribution)-->(p:Person) RETURN p.name")
  title: String!
  title_addon: String
  created: DateTime!
  modified: String
  date: String
  note: String
  type: [TextType]! @relation(name: "Type", direction: "OUT")
}

type Person {
  id: ID!
  name: String!
  created: String!
  modified: String
  note: String 
}

type TextType {
  id: ID!
  name: String!
}

scalar DateTime

type Query {
  textByTitle(substring: String): [Text] @cypher(statement: "MATCH (t:Text) WHERE lower(t.title) CONTAINS lower($substring) RETURN t")
  textById(ID: String!): Text @cypher(statement: "MATCH (t:Text) WHERE t.text_id = $ID RETURN t")
}
